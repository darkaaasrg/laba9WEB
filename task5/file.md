Завдання 5: Розширений Опис Дизайну Kubernetes-додатку

1. Ідентифікація Сервісу та Розміщення
   Ми успішно змоделювали Сервіс автентифікації та користувачів (Auth/User Service), який є критично важливим для обробки процесів реєстрації та входу в систему. Для забезпечення логічної ізоляції та безпеки, цей сервіс розміщений у Namespace prod в Kubernetes-кластері. Сервіс запускається як Deployment (auth-api-deployment), який підтримує 3 репліки (Pod-и). Ця кількість обрана для гарантування високої доступності (HA): якщо один Pod вийде з ладу, два інші продовжать обслуговувати трафік.

2. Деталізація Шляху Запиту: Client до Pod
   Потік вхідного трафіку починається, коли користувач звертається до домену api.musicshop.example.com.
   Запит проходить через DNS та зовнішній Load Balancer, який відповідає за SSL-термінацію (HTTPS) та розподіл навантаження на ноди кластера.
   На вході до кластера його приймає Ingress Controller. Ingress аналізує Host та Path запиту і маршрутизує його до внутрішнього Service (auth-api-svc).
   Service типу ClusterIP забезпечує стабільну внутрішню точку доступу, рівномірно розподіляючи навантаження на всі 3 Pod-и, що працюють під керуванням Deployment. Кожен Pod виконує логіку автентифікації та повертає відповідь.

3. Життєвий Цикл Образу: Git, CI/CD та Registry
   Життєвий цикл коду до контейнера є повністю автоматизованим:
   Розробник комітить код у Git-репозиторій (github.com/myteam/auth-service).
   Ця подія запускає CI/CD Pipeline (наприклад, GitHub Actions), який виконує тестування, збирає фінальний Docker-образ (my-auth-api) і пушить його з тегом версії (1.0.0) у Container Registry.
   Нарешті, Deployment у кластері стежить за Registry і виконує операцію Pull Image для завантаження нового образу. Це гарантує, що Pod-и завжди запускають актуальну, протестовану версію сервісу.
